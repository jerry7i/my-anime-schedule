(this["webpackJsonpmy-anime-schedule"]=this["webpackJsonpmy-anime-schedule"]||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/plus_icon.83015675.png"},27:function(e,t,a){e.exports=a(52)},33:function(e,t,a){},34:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),s=a.n(i),c=a(1),l=a.n(c),o=a(6),u=a(2),d=a(3),m=a(5),h=a(4),p=(a(33),a(34),a(12));function f(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{onClick:function(){p.animateScroll.scrollToTop({duration:500})},className:"header-text"},"MyAnimeSchedule"))}a(45);var y=a(24),g=a.n(y),w=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isSelected:e.props.selectedCards.includes(e.props.anime.mal_id)},e}return Object(d.a)(a,[{key:"toggleSelected",value:function(e){var t=this.props,a=t.delAnime,n=t.addAnime;this.state.isSelected?a(e):n(e),this.setState({isSelected:!this.state.isSelected})}},{key:"render",value:function(){var e=this,t=this.props.anime,a=t.title_english,n=t.title,i=t.mal_id,s=t.images,c=t.url,l=this.state.isSelected;return r.a.createElement("div",{className:"card",style:l?x:{}},r.a.createElement("div",{onClick:function(){return e.toggleSelected(i)},className:l?"image-selected":"image-container"},r.a.createElement("img",{src:s.jpg.image_url,alt:null===a?n:a,style:v}),r.a.createElement("img",{src:g.a,alt:"Add Anime",className:"plus-icon"})),r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("p",{className:"title"},null===a?n:a)))}}]),a}(n.Component),v={display:"relative",height:"190px",width:"100%",objectFit:"cover",borderRadius:"6px 6px 0 0",margin:"0"},x={filter:"brightness(1.2)",color:"#ccc",transform:"translateY(-8px)",backgroundColor:"green"},b=w;a(46);var E={display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},k=function(e){var t=e.animes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:E},t.map((function(t){return r.a.createElement(b,{anime:t,selectedCards:e.selectedCards,addAnime:e.addAnime,delAnime:e.delAnime,key:t.mal_id})}))),r.a.createElement("button",{className:"show-btn",onClick:function(){return e.showMore(!0)}},"show more"),r.a.createElement("button",{className:"show-btn",onClick:function(){return e.showMore(!1)}},"show less"))};a(47);function S(e){var t=e.anime.localTime.toFormat("cccc, h:mm a"),a=e.anime,n=a.images,i=a.title_english,s=a.title,c=a.url;return r.a.createElement("div",{className:"today-item"},r.a.createElement("p",{style:j},t),r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:n.jpg.image_url,alt:null===i?s:i,style:D}),r.a.createElement("div",{className:"item-title"},null===i?s:i)))}var D={float:"left",width:"60px",height:"60px",marginRight:"10px",objectFit:"cover",borderRadius:"6px"},j={textAlign:"left",marginBottom:"5px"},C=["Jan","Feb","Mar","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],O=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function A(e){var t=e.schedule;t.sort((function(e,t){return e.localTime&&t.localTime?e.localTime.toMillis()-t.localTime.toMillis():0}));var a=e.day.slice(0,1).toUpperCase()+e.day.slice(1);return r.a.createElement("div",{style:M},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("p",{style:F},a),r.a.createElement("p",{style:N},function(e){var t=new Date,a=t.getDate()-t.getDay()+O.indexOf(e),n=new Date(t.setDate(a));return"".concat(C[n.getMonth()]," ").concat(n.getDate())}(e.day))),0===t.length?r.a.createElement("p",{style:T},"Slow day..."):e.schedule.map((function(e,t){return r.a.createElement(S,{anime:e,key:e.mal_id})})))}var T={borderTop:"solid 1.2px #444",paddingTop:"10px"},M={padding:"10px 10px 4px 10px",margin:"5px",minWidth:"150px",height:"inherit",flex:"1",backgroundColor:"#222",borderRadius:"10px"},F={fontSize:"18px"},N={fontSize:"13px",filter:"opacity(0.65)"},_=a(25),W=a(20);function I(e,t){for(var a=t.split(":").map(Number),n=Object(_.a)(a,2),r=n[0],i=n[1],s={Sundays:7,Mondays:1,Tuesdays:2,Wednesdays:3,Thursdays:4,Fridays:5,Saturdays:6}[e],c=W.DateTime.now().setZone("Asia/Tokyo"),l=c.set({hour:r,minute:i,second:0,millisecond:0});l.weekday!==s||l<=c;)l=l.plus({days:1});return l.setZone(Intl.DateTimeFormat().resolvedOptions().timeZone)}function J(e){return W.DateTime.fromISO(e)}a(48);var Y={sunday:[],monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[]},B=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],R=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={mySchedule:Y,watchlist:[]},e.componentDidMount=Object(o.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getSchedule();case 1:case"end":return t.stop()}}),t)}))),e.getSchedule=Object(o.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.setWatchlist();case 2:0===(a=e.props.watching.slice()).length&&e.setState({mySchedule:Y,watchlist:[]}),n={sunday:[],monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[]},a.forEach((function(e){var t,a=e.broadcast.day,r=e.broadcast.time,i=(t=null===a||null===r?J(e.aired.from):I(e.broadcast.day,e.broadcast.time)).toFormat("cccc").toLowerCase();e.localTime=t,n[i].push(e)})),e.setState({mySchedule:n,watchlist:a});case 7:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state.mySchedule;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Link,{to:"schedule",smooth:!0,offset:-90,duration:600},r.a.createElement("button",{className:"get-btn",onClick:function(){return e.getSchedule()}},"Get Schedule")),r.a.createElement("p",{style:L},"* times are displayed in your local time zone"),r.a.createElement("div",{style:z,name:"schedule"},B.map((function(e){return r.a.createElement(A,{day:e,schedule:t[e],key:e})}))))}}]),a}(n.Component),z={display:"flex",flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap",color:"#EEE"},L={textAlign:"left",paddingLeft:"10px",color:"#EEE",marginTop:"40px"},Z=R,G=a(53),U=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadSeason();case 2:n.filterOngoing();case 3:case"end":return e.stop()}}),e)}))),n.loadSeason=Object(o.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.jikan.moe/v4/seasons/now?sfw&filter=tv");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r=Array.from(new Map(a.data.map((function(e){return[e.mal_id,e]}))).values()),n.setState({seasonal:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Failed to fetch season data:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.addAnime=function(e){n.setState({watching:n.state.watching.concat(e)}),n.watchingCookie(n.state.watching.concat(e))},n.delAnime=function(e){var t=n.state.watching.filter((function(t){return t!==e}));n.setState({watching:t}),n.watchingCookie(t)},n.setWatchlist=function(){var e=n.state.seasonal.filter((function(e){return n.state.watching.includes(e.mal_id)}));n.setState({renderWatchlist:e})},n.showMore=function(e){var t=n.state,a=t.seasonal,r=t.numDisplayed;e?r<a.length&&(n.numDisplayedCookie(r+10),n.setState({numDisplayed:r+10})):r>0&&(n.numDisplayedCookie(r-10),n.setState({numDisplayed:r-10}))};var r=e.cookies,i=r.get("numDisplayed"),s=null==i?20:parseInt(i);return n.state={watching:r.get("watching")||[],seasonal:[],renderWatchlist:r.get("watching")||[],numDisplayed:s},n}return Object(d.a)(a,[{key:"filterOngoing",value:function(){var e=this.state,t=e.watching,a=e.seasonal.map((function(e){return e.mal_id})),n=t.filter((function(e){return a.includes(e)}));this.watchingCookie(n),this.setState({watching:n})}},{key:"watchingCookie",value:function(e){var t=this.props.cookies,a=new Date;a.setFullYear(a.getFullYear()+1),t.set("watching",e,{expires:a}),this.setState({watching:e})}},{key:"numDisplayedCookie",value:function(e){var t=this.props.cookies,a=new Date;a.setFullYear(a.getFullYear()+1),t.set("numDisplayed",e,{expires:a}),this.setState({numDisplayed:e})}},{key:"render",value:function(){var e=this.state,t=e.renderWatchlist,a=e.watching,n=this.state.seasonal.slice(0,this.state.numDisplayed);return r.a.createElement("div",{className:"container"},r.a.createElement(f,null),r.a.createElement(k,{animes:n,selectedCards:a,addAnime:this.addAnime,delAnime:this.delAnime,showMore:this.showMore}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Z,{watching:t,setWatchlist:this.setWatchlist}))}}]),a}(n.Component),$=Object(G.a)(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=a(54);s.a.render(r.a.createElement(q.a,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.92be278f.chunk.js.map